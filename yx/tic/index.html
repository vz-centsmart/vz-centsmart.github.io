<!DOCTYPE html>
<html lang="ch">
<head>
    <meta charset="utf-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1">

    <title>走路模拟器 powered by TIC-80 tiny computer</title>
    <link rel="stylesheet" href="../../biupiukiu_like.css">
    <link rel="stylesheet" href="https://www.w3schools.com/w3css/4/w3.css">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">

    <style type="text/css">
        #game-frame > div {
            font-size: 44px;
            font-family: monospace;
            font-weight: bold;
        }

        /* You can set custom dimensions here */
        .game {
            width: 100vw;
            height: 100vh;
        }

        /* #game-frame { display: none; } */
    </style>
</head>
<body style="margin:0; padding:0;">
<div class="w3-top">
    <div class="w3-bar w3-black w3-card">
        <a class="w3-bar-item w3-button w3-padding-large w3-hide-medium w3-hide-large w3-right"
           href="javascript:void(0)" onclick="myFunction()" title="Toggle Navigation Menu"><i
                class="fa fa-bars"></i></a>
        <a href="../../index.html" class="w3-bar-item w3-button w3-padding-large">VicZhou</a>
        <a href="../../yx/index.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small"
           target="_self">游戏</a>
        <a href="../../xs/index.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small"
           target="_self">小说</a>
        <a href="../../xf/index.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small"
           target="_self">想法</a>
        <a href="../../ll/index.html" class="w3-bar-item w3-button w3-padding-large w3-hide-small"
           target="_self">联络</a>
    </div>
</div>

<div id="navDemo" class="w3-bar-block w3-black w3-hide w3-hide-large w3-hide-medium w3-top" style="margin-top:46px">
    <a href="../../yx/index.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">游戏</a>
    <a href="../../xs/index.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">小说</a>
    <a href="../../xf/index.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">想法</a>
    <a href="../../ll/index.html" class="w3-bar-item w3-button w3-padding-large" onclick="myFunction()">联络</a>
</div>

<div class="game" style="margin: 0; position: relative; background: #1a1c2c;">

    <div id="game-frame"
         style="cursor: pointer; position: absolute; margin: 0 auto; opacity: 1; background: #1a1c2c; width: 100%; height: 100%;">
        <div style="text-align: center; color: white; display: flex; justify-content: center; align-items: center; width: 100%; height: 100%;">
            <p style="margin: 0;">- 点击开始游戏 -</p>
        </div>

    </div>

    <canvas style="width: 100%; height: 100%; margin: 0 auto; display: block; image-rendering: pixelated;" id="canvas"
            oncontextmenu="event.preventDefault()" onmousedown="window.focus()"></canvas>
</div>
<script type="text/javascript">
    var Module = {canvas: document.getElementById('canvas'), arguments: ['cart.tic']}

    const gameFrame = document.getElementById('game-frame')
    const displayStyle = window.getComputedStyle(gameFrame).display;

    if (displayStyle === 'none') {
        let scriptTag = document.createElement('script'), // create a script tag
            firstScriptTag = document.getElementsByTagName('script')[0]; // find the first script tag in the document
        scriptTag.src = 'tic80.js'; // set the source of the script to your script
        firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag); // append the script to the DOM
    } else {
        gameFrame.addEventListener('click', function () {
            let scriptTag = document.createElement('script'), // create a script tag
                firstScriptTag = document.getElementsByTagName('script')[0]; // find the first script tag in the document
            scriptTag.src = 'tic80.js'; // set the source of the script to your script
            firstScriptTag.parentNode.insertBefore(scriptTag, firstScriptTag); // append the script to the DOM
            this.remove()
        });
    }
</script>
<script src="../../bpk.js"></script>
</body>
</html>